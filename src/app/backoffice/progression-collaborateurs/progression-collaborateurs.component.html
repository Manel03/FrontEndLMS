<div class="container">
  <h2>Progression des collaborateurs</h2>

  <div *ngIf="collaborateurs.length > 0; else noData">
    <div *ngFor="let collaborateur of collaborateurs" class="card">
      <h3>{{ collaborateur.userUuid | user | async }}</h3>
    

      <div *ngIf="collaborateur.progressions; else loadingProgression">
        <div class="progressions-wrapper">
          <div *ngFor="let prog of collaborateur.progressions" class="circle-block">
            <div class="circular-container">
              <svg class="circular-progress" viewBox="0 0 36 36">
                <path class="bg" d="M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831" />
                <path class="progress"
                  [attr.stroke-dasharray]="(prog.pourcentage || prog.progression || 0) + ', 100'"
                  d="M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831" />
                <text x="18" y="20.35" class="percentage">
                   {{ (prog.pourcentage || prog.progression || 0) | number:'1.0-0' }}%
                </text>
              </svg>
            </div>
            <p class="formation-nom">ðŸ“˜ <strong>{{ prog.formationNom }}</strong></p>
          </div>
        </div>
      </div>

      <ng-template #loadingProgression>
        <p>Chargement de la progression...</p>
      </ng-template>
    </div>
  </div>

  <ng-template #noData>
    <p>Aucun collaborateur trouvÃ©.</p>
  </ng-template>
</div>
